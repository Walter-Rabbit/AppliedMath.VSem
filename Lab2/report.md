# Лабораторная работа №2 "Применение симплекс-метода"

## **Задание 1**

### Условие задачи

Где строить? Две конкурирующие крупные торговые фирмы F1 и F2, планируют построить в одном из четырёх небольших городов G1, G2, G3, G4, лежащих вдоль автомагистрали, по одному универсаму. Взаимное расположение городов, расстояние между ними и численность населения показаны на следующей схеме:

|                   |         |         |         |         |
| ----------------- | ------- | ------- | ------- | ------- |
| 140 км            | 30 км   | 40 км   | 50 км   | 150 км  |
|                   | G1      | G2      | G3      | G4      |
| Число покупателей | 30 тыс. | 50 тыс. | 40 тыс. | 30 тыс. |

Доход, получаемый каждой фирмой, определяется численностью населения городов, а также степенью удалённости универсамов от места жительства потенциальных покупателей. Специально проведённое исследование показало, что доход универсамов будет распределяться между фирмами так, как это показано в следующей таблице

| Условия                                                              | F1  | F2  |
| -------------------------------------------------------------------- | --- | --- |
| Универсам фирмы F1 расположен от города ближе универсама фирмы F2    | 75% | 25% |
| Универсамы обеих фирм расположены на одинаковом расстоянии от города | 60% | 40% |
| Универсам фирмы F1 расположен от города дальше универсама фирмы F2   | 45% | 55% |

Например, если универсам фирмы F1 расположен от города G1 ближе универсама фирмы F2, то доход от фирм от покупок, сделанных жителями данного города, распределится следующим образом - 75% получит F1, остальное - F2.

1. Представьте описанную ситуацию, как игру двух лиц
2. В каких городах фирмам целесообразно построить свои универсамы

### Решение

Если представить данную ситуацию как игру двух лиц, то каждому из двух игроков нужно выбрать один из четырёх вариантов так, чтобы получить максимально возможную прибыль. Будем считать прибыль от каждого человека равной 1 (То есть город из 10000 может приносит прибыть 10000).

Построим таблицу, отображающая доход каждой фирмы в зависимости от города, в котором они расположат свой универмаг

<table class="waffle" cellspacing="0" cellpadding="0"><tbody><tr style="height: 20px"><td class="s0" dir="ltr">F1 \ F2</td><td class="s0" dir="ltr">G1</td><td class="s0" dir="ltr">G2</td><td class="s0" dir="ltr">G3</td><td class="s0" dir="ltr">G4</td><td class="s1"></td></tr><tr style="height: 20px"><td class="s2" dir="ltr" rowspan="2">G1</td><td class="s3" dir="ltr">90000</td><td class="s3" dir="ltr">76500</td><td class="s3" dir="ltr">84000</td><td class="s3" dir="ltr">103500</td><td class="s1" dir="ltr">F1</td></tr><tr style="height: 20px"><td class="s4" dir="ltr">60000</td><td class="s4" dir="ltr">73500</td><td class="s4" dir="ltr">66000</td><td class="s4" dir="ltr">46500</td><td class="s1" dir="ltr">F2</td></tr><tr style="height: 20px"><td class="s2" dir="ltr" rowspan="2">G2</td><td class="s3">103500</td><td class="s3" dir="ltr">90000</td><td class="s3" dir="ltr">91500</td><td class="s3" dir="ltr">103500</td><td class="s1" dir="ltr">F1</td></tr><tr style="height: 20px"><td class="s4">46500</td><td class="s4" dir="ltr">60000</td><td class="s4" dir="ltr">58500</td><td class="s4" dir="ltr">46500</td><td class="s1" dir="ltr">F2</td></tr><tr style="height: 20px"><td class="s2" dir="ltr" rowspan="2">G3</td><td class="s3">96000</td><td class="s3" dir="ltr">88500</td><td class="s3" dir="ltr">90000</td><td class="s3" dir="ltr">103500</td><td class="s1" dir="ltr">F1</td></tr><tr style="height: 20px"><td class="s4">54000</td><td class="s4" dir="ltr">61500</td><td class="s4" dir="ltr">60000</td><td class="s4" dir="ltr">46500</td><td class="s1" dir="ltr">F2</td></tr><tr style="height: 20px"><td class="s2" dir="ltr" rowspan="2">G4</td><td class="s3" dir="ltr">76500</td><td class="s3" dir="ltr">76500</td><td class="s3" dir="ltr">76500</td><td class="s3" dir="ltr">90000</td><td class="s1" dir="ltr">F1</td></tr><tr style="height: 20px"><td class="s4">73500</td><td class="s4">73500</td><td class="s4">73500</td><td class="s4" dir="ltr">60000</td><td class="s5" dir="ltr">F2</td></tr></tbody></table>

Общая возможная прибыль универмагов ограничена (150000), так что чем больше прибыль универмага F1, тем меньше прибыть универмага F2. Из таблицы видно, что прибыль универмага F1 всегда больше чем прибыль универмага F2. Построим ещё одну таблицу, отображающую разницу между прибылью универмага F1 и F2

> Эту разницу можно воспринимать как убытки F2, то есть им выгодно минимизировать её т.к. суммарная прибыль двух фирм всегда одинаковая

| F1 / F2 | G1    | G2    | G3    | G4    |
| ------- | ----- | ----- | ----- | ----- |
| G1      | 30000 | 3000  | 18000 | 57000 |
| G2      | 57000 | 30000 | 33000 | 57000 |
| G3      | 42000 | 27000 | 30000 | 57000 |
| G4      | 3000  | 3000  | 3000  | 30000 |

Применим алгоритм минмакс (и максмин) для определения наиболее оптимального для построения универмага места.

**F1**

Посмотрим на минимальную гарантированную прибыль в каждом городе

| G1 | G2 | G3 | G4 |
| -- | -- | -- | -- |
| 3000 | 30000 | 27000 | 3000 |

Из них выбираем максимальную - город G2.

**F2**

Посмотрим на максимально возможные "убытки" в каждом городе

| G1 | G2 | G3 | G4 |
| -- | -- | -- | -- |
| 57000 | 30000 | 33000 | 57000 |

Из них выбираем минимальный - город G2

**Итог** 

Самой оптимальной стратегией для каждой из фирм будет построить универмаг в городе G2

## **Задание 2**

| Скорость (т/ч) | 1-ый погрузчик | 2-ой погрузчик |
| --- | --- | --- |
| 1-ая площадка | $10$ | $13$ |
| 2-ая площадка | $12$ | $13$ |

| Стоимость (р/т) | 1-ый погрузчик | 2-ой погрузчик |
| --- | --- | --- |
| 1-ая площадка | $8$ | $12$ |
| 2-ая площадка | $7$ | $13$ |

| Цель (т) | |
| --- | --- |
| 1-ая площадка | $230$ |
| 2-ая площадка | $68$ |

Сформулируем задача линейного программирования.

Обозначим времена проведённые на площадках погрузчиками следующим образом:

* $x_1$ - время проведённое первым погрузчиком на первой площадке.
* $x_2$ - время проведённое первым погрузчиком на второй площадке.
* $x_3$ - время проведённое вторым погрузчиком на первой площадке.
* $x_4$ - время проведённое вторым погрузчиком на второй площадке.

Результирующая функция - функция стоимости, её нужно минимизировать. Она представляет собой сумму времён, умноженных на
скорость и на стоимость:

* $F(\overline x ) = x_1 \cdot 10 \cdot 8 + x_2 \cdot 12 \cdot 7 + x_3 \cdot 13 \cdot 12 + x_4 \cdot 13 \cdot 13$

Зададим ограничения:

* $x_1 + x_2 \le 24$ - общее время работы первого погрузчика не должно превыщать 24 часа.
* $x_3 + x_4 \le 24$ - общее время работы второго погрузчика не должно превыщать 24 часа.
* $x_1 \cdot 10 + x_3 \cdot 13 = 230$ - первый погрузчик должен погрузить ровно 230 тонн.
* $x_2 \cdot 12 + x_4 \cdot 13 = 68$ - второй погрузчик должен погрузить ровно 68 тонн.

Задача линейного программирования сформулирована, введём в программу, которую мы написали для первой лабораторной работы
эту задачу.

Ввод для программы:

```json
{
  "Equations": [
    {
      "Coefficients": [10.0, 0.0, 13.0, 0.0],
      "FreeElement": 230.0
    },
    {
      "Coefficients": [0.0, 12.0, 0.0, 13.0],
      "FreeElement": 68.0
    }
  ],
  "Inequalities": [
    {
      "Coefficients": [1.0, 1.0, 0.0, 0.0],
      "FreeElement": 24.0,
      "Term": "LowerEqual"
    },
    {
      "Coefficients": [0.0, 0.0, 1.0, 1.0],
      "FreeElement": 24.0,
      "Term": "LowerEqual"
    }
  ],
  "Function": {
    "Coefficients": [80.0, 84.0, 156.0, 169.0]
  },
  "Mode": "Minimize"
}
```

Полученный вывод:

```json
{
  "X": [18.333333333333336, 5.666666666666665, 3.589743589743588, 0.0, 0.0, 20.410256410256412],
  "FunctionValue": 2502.6666666666665
}
```

Получается, что самое лучшее распределение погрузчиков следующее:

* 1-ый погрузчик работает $18.334$ часов на 1-ой площадке, а потом $5.667$ часов (оставшееся время) на 2-ой площадке.
* 2-ой погрузчик работает только на 1-ой площадке $3.590$ часа.

Затраты на такое распределение - $2502.667$ рублей.

## **Задание 3**

## **Задание 4**

## **Задание 5**

## **Задание 6**

## **Задание 7**

## **Задание 8**

## **Задание 9**